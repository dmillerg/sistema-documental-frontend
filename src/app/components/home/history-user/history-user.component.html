<div class="full-container bg-dark">
    <div class="example-container mat-elevation-z4 bg-dark">
        <div class="example-loading-shade" *ngIf="isLoadingResults || isRateLimitReached">
            <mat-spinner *ngIf="isLoadingResults" color="warn"></mat-spinner>
            <div class="example-rate-limit-reached" *ngIf="isRateLimitReached">
                {{message_server}}
            </div>
        </div>
        <div class="example-container mat-elevation-z4 bg-dark">
            <div class="example-table-container">
                <table mat-table [dataSource]="dataSource" class="example-table" matSortActive="created" matSortDisableClear matSortDirection="desc" matSort>
                    <!-- id Column -->
                    <ng-container matColumnDef="id">
                        <th class="bg-darkest" mat-header-cell mat-sort-header="id" *matHeaderCellDef>id</th>
                        <td class="bg-dark" mat-cell *matCellDef="let row">{{row.id}}</td>
                    </ng-container>

                    <!-- user column -->
                    <ng-container matColumnDef="user">
                        <th class="bg-darkest" mat-header-cell mat-sort-header="user" *matHeaderCellDef>Usuario</th>
                        <td class="bg-dark" mat-cell *matCellDef="let row">
                            {{row.username}}</td>
                    </ng-container>

                    <!--state column -->
                    <ng-container matColumnDef="estado">
                        <th class="bg-darkest" mat-header-cell mat-sort-header="estado" *matHeaderCellDef>Estado</th>
                        <td class="bg-dark" mat-cell *matCellDef="let row">
                            <mat-icon matTooltip="activo" *ngIf="row.estado == 'activo'" class="text-success">wifi</mat-icon>
                            <mat-icon matTooltip="inactivo" *ngIf="row.estado == 'inactivo'" class="text-danger">signal_wifi_off</mat-icon>
                        </td>
                    </ng-container>

                    <!-- action Column -->
                    <ng-container matColumnDef="actions">
                        <th class="bg-darkest" mat-header-cell *matHeaderCellDef>Acciones</th>
                        <td class="bg-dark" mat-cell *matCellDef="let row">
                            <button type="button" matTooltip="ver historial" class="btn btn-outline-primary" (click)="verHistorial(row)">
        <mat-icon>timeline</mat-icon>
      </button>
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
            </div>

            <mat-paginator class="bg-darkest" [length]="resultsLength" [pageSize]="7" [pageSizeOptions]="[5, 7, 15, 20, 30]">
            </mat-paginator>

        </div>
    </div>
